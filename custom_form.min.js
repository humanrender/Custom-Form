(function(e){e._mixin={include:function(k,l){k.call(l.prototype)}};var j=(function(o){function r(t){this.element_id=this.element.attr("id");this.element_name=this.element.attr("name");this.replacement=(t.select_replacement||this.get_replacement).apply(this);this.replace_elements();this.init_replacement();this.init_mouse_events()}function n(){this.element.after(this.replacement);this.replacement.append(this.element)}function q(t){t?this.replacement.addClass("hover_"+this.element_type):this.replacement.removeClass("hover_"+this.element_type)}function k(){var u=this.mouse_trigger();u.bind("mouseenter",this,this.hover_handler);u.bind("mouseleave",this,this.out_handler);u.bind("click",this,this.click_handler);var t=e("label[for="+this.element_id+"]");if(t.length!=0){t.bind("click",this,l)}}function s(t){t.data.hover(true)}function m(t){t.data.hover(false)}function p(t){this.replacement[t?"addClass":"removeClass"]("active_"+this.element_type)}function l(t){t.preventDefault();t.data.replacement.trigger("click")}return function(){this.init=r;this.replace_elements=n;this.hover=q;this.init_mouse_events=k;this.hover_handler=s;this.out_handler=m;this.active_replacement_class=p;this.label_handler=l}})();function a(k){this.element=k;this.element_type="select"}a.prototype.mouse_trigger=function(){return e(".select_content",this.replacement)};a.prototype.get_replacement=function(){var k=e("option:selected",this.element);(k.length!=0)||(k=e("option:first-child",this.element));return e("<span class='select'>      <span class='select_content' >        <span class='select_button'>          <span class='select_button_icon'></span>        </span>        <p class='select_label'>"+k.text()+"</p>      </span>    </span>")};a.prototype.init_replacement=function(){var l={width:(this.element.outerWidth()-parseInt(this.replacement.css("border-left-width"))-parseInt(this.replacement.css("border-right-width")))};this.element.css(l);this.replacement.css(l);var k=e(".select_button",this.replacement);this.select_label=e(".select_label",this.replacement);this.select_label.css({width:(l.width-k.outerWidth()-parseInt(this.select_label.css("padding-left"))-parseInt(this.select_label.css("padding-right"))),"padding-right":0});this.element.bind("change",this,this.select_change)};a.prototype.select_change=function(k){k.data.update_label()};a.prototype.update_label=function(){this.select_label.text(e("option:selected",this.element).text())};a.prototype.show_options=function(){this.element.trigger("click")};function h(k){this.element=k;this.element_type="radio";this.uncheckeable=true}function c(k){this.element=k;this.element_type="checkbox";this.uncheckeable=false}c.prototype.mouse_trigger=function(){return this.replacement};c.prototype.get_replacement=function(){return e("<span class='"+this.element_type+"'></span>")};c.prototype.click_handler=function(k){k.data.check_input()};c.prototype.init_replacement=function(){if(this.element.is(":checked")){this.check_input(true)}};a.prototype.click_handler=function(k){k.data.show_options()};a.initialized=false;a.button_width=0;a.create=function(l){if(!a.initialized){var k=new a(l);a.select_height||(a.select_height=k.element.outerHeight());return k}else{return new a(l)}};a.prototype.update=function(){this.element.trigger("change")};a.prototype.select=function(l){var k=typeof l;switch(k){case"number":this.element.val(l);break;case"function":l.apply(this.element);break;default:(k=="string")||(l=l.to_s);this.element.find("option:contains('"+l+"')").attr("selected",true)}this.update()};c.prototype.check_input=function(l){var k=this.element;l=l==undefined?!k.is(":checked"):l;if(!this.uncheckeable||(this.uncheckeable&&l)){k.attr("checked",l);this.active_replacement_class(l);if(l){k.triggerHandler("change")}k.triggerHandler("click")}};c.prototype.update=function(){this.check_input(this.element.is(":checked"))};h.prototype=new c();h.prototype.update=function(){this.check_input(this.element.is(":checked"),true)};h.prototype.check_input=function(m,l){(m!=undefined)||(m=true);if(m||l){var k=this.element;checked_radios=e(".active_radio:has([type=radio]:not([id="+this.element_id+"]))");if(checked_radios.length!=0){checked_radios.removeClass("active_"+this.element_type)}}c.prototype.check_input.call(this,m==undefined?undefined:m)};e._mixin.include(j,c);e._mixin.include(j,h);e._mixin.include(j,a);j.get=function(l){var m=e(l);if(m.is("select")){return a.create(m)}else{var k=m.attr("type");switch(k){case"checkbox":return new c(m);case"radio":return new h(m)}}};function i(k){k=k||{};return e(this).each(function(){var l=j.get(this);l.init(k);this.custom_form_instance=l})}function b(k){return e(this).each(function(){this.custom_form_instance.check_input(k)})}function d(){return e(this).each(function(){this.custom_form_instance.update()})}function g(k){return e(this).each(function(){this.custom_form_instance.select(k)})}var f={init:i,check:b,update:d,select:g};e.fn.custom_form=function(k){if(f[k]){return f[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return f.init.apply(this,arguments)}else{e.error("Method "+k+" does not exist on jQuery.tooltip")}}}})(jQuery);