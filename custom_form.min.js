(function(d){d._mixin={include:function(k,l){k.call(l.prototype)}};var j=(function(){function t(v){this.element_id=this.element.attr("id");this.element_name=this.element.attr("name");if(this.set_properties){this.set_properties(v)}this.replacement=(v.select_replacement||this.get_replacement).apply(this);this.replace_elements();this.init_replacement();this.init_mouse_events()}function r(v){v?this.replacement.addClass("hover_"+this.element_type):this.replacement.removeClass("hover_"+this.element_type)}function p(v){v?this.replacement.addClass("active_"+this.element_type):this.replacement.removeClass("active_"+this.element_type)}function k(){var w=this.mouse_trigger();w.bind("mouseenter",this,this.hover_handler).bind("mouseleave",this,this.out_handler).bind("click",this,this.click_handler).bind("mouseup",this,this.mouse_up_handler).bind("mousedown",this,this.mouse_down_handler);var v=d("label[for="+this.element_id+"]");if(v.length!=0){v.bind("click",this,l)}else{v=this.replacement.parent("label");if(v.length!=0){v.bind("click",this,l)}}}function u(v){v.data.hover(true)}function m(v){v.data.hover(false)}function n(v){v.data.mouse_in(false)}function s(v){v.data.mouse_in(true)}function q(v){this.replacement[v?"addClass":"removeClass"]("checked_"+this.element_type)}function l(v){if(v.target!=this){return}v.preventDefault();v.data.replacement.triggerHandler("click")}function o(v){switch(v){case true:case false:this.element.attr("disabled",v);this.replacement[v?"addClass":"removeClass"]("disabled_"+this.element_type);this.is_disabled=v;return v;case"none":return !this.element.is(":disabled");default:return this.element.is(":disabled")}}return function(){this.init=t;this.hover=r;this.init_mouse_events=k;this.hover_handler=u;this.out_handler=m;this.active_replacement_class=q;this.mouse_up_handler=n;this.mouse_down_handler=s;this.mouse_in=p;this.label_handler=l;this.disabled=o}})();function e(k){this.element=k;this.element_type="file"}e.prototype.set_properties=function(k){this.label=k.file_label;this.button_label=k.file_button;this.responsive=k.responsive_file};a.prototype.set_properties=function(k){this.responsive=k.responsive_select};e.prototype.get_replacement=function(){return d("<span class='file'><span class='file_content'><span class='file_button'><span></span>"+this.button_label+"</span><p class='file_label'><span>"+this.label+"</span></p></span></span>")};e.prototype.replace_elements=function(){this.element_width=this.element.outerWidth();this.element_margin=this.element.css("margin-left");this.element_padding=this.element.css("padding-left");this.element.after(this.replacement);this.replacement.append(this.element)};e.prototype.init_replacement=function(){var k=this.element,l={width:this.element_width-parseInt(this.replacement.css("border-left-width"))-parseInt(this.replacement.css("border-right-width"))};this.file_label=d(".file_label",this.replacement);this.element.bind("change",this,this.file_change);if(!this.responsive){k.css(l);this.replacement.css(l);this.file_label.css("width",l.width-d(".file_button",this.replacement).outerWidth())}else{this.replacement.addClass("responsive_file")}};e.prototype.file_change=function(k){k.data.update_label()};e.prototype.update_label=function(){var k=this.element.val();if(!k.match(/\S/)){k=this.label}this.file_label.html("<span>"+k+"</span>")};function a(k){this.element=k;this.element_type="select"}e.prototype.mouse_trigger=a.prototype.mouse_trigger=function(){return this.element};a.prototype.get_replacement=function(){var k=d("option:selected",this.element);(k.length!=0)||(k=d("option:first-child",this.element));return d("<span class='select'><span class='select_content' ><span class='select_button'><span class='select_button_icon'></span></span><p class='select_label'><span>"+k.text()+"</span></p></span></span>")};a.prototype.init_replacement=function(){this.select_label=d(".select_label",this.replacement);if(!this.responsive){var l={width:this.element_width-parseInt(this.replacement.css("border-left-width"))-parseInt(this.replacement.css("border-right-width"))};this.element.css(l);this.replacement.css(l);var k=d(".select_button",this.replacement);this.select_label.css({width:l.width-k.outerWidth()})}else{this.replacement.addClass("responsive_select")}this.element.bind("change",this,this.select_change)};a.prototype.replace_elements=function(){this.element_width=this.element.outerWidth();this.element.after(this.replacement);this.replacement.append(this.element)};a.prototype.select_change=function(k){k.data.update_label()};a.prototype.update_label=function(){this.select_label.html("<span>"+d("option:selected",this.element).text()+"</span>")};function h(k){this.element=k;this.element_type="radio";this.uncheckeable=true}function c(k){this.element=k;this.element_type="checkbox";this.uncheckeable=false}c.prototype.mouse_trigger=function(){return this.replacement};c.prototype.replace_elements=function(){this.element.after(this.replacement);this.replacement.append(this.element)};c.prototype.get_replacement=function(){return d("<span class='"+this.element_type+"'></span>")};c.prototype.click_handler=function(k){k.data.checked();k.data.element.triggerHandler("click")};c.prototype.init_replacement=function(){var k=this.element;if(k.is(":checked")){this.checked(true)}if(k.is(":disabled")){this.disabled(true)}};e.prototype.click_handler=a.prototype.click_handler=function(k){};a.initialized=false;a.button_width=0;a.create=function(l){if(!a.initialized){var k=new a(l);a.select_height||(a.select_height=k.element.outerHeight());return k}else{return new a(l)}};e.prototype.update=a.prototype.update=function(){this.element.trigger("change")};a.prototype.select=function(l){var k=typeof l;switch(k){case"number":this.element.val(l);break;case"function":l.apply(this.element);break;default:(k=="string")||(l=l.to_s);this.element.find("option:contains('"+l+"')").attr("selected",true)}this.update()};c.prototype.checked=function(l){var k=this.element;l=l==undefined?!k.is(":checked"):l;if(!this.uncheckeable||(this.uncheckeable&&l)){k.attr("checked",l);this.active_replacement_class(l);if(l){k.trigger("change")}}};c.prototype.update=function(){this.checked(this.element.is(":checked"))};h.prototype=new c();h.prototype.update=function(){this.checked(this.element.is(":checked"),true)};h.prototype.checked=function(m,l){(m!=undefined)||(m=true);if(m||l){var k=this.element;checked_radios=d(".checked_radio").has("[name='"+this.element_name+"']").not(this.element_id);if(checked_radios.length!=0){checked_radios.removeClass("checked_"+this.element_type)}}c.prototype.checked.call(this,m==undefined?undefined:m)};d._mixin.include(j,c);d._mixin.include(j,h);d._mixin.include(j,a);d._mixin.include(j,e);j.get=function(k){var l=d(k),m=l.is("select")?"select":l.attr("type");switch(m){case"select":return a.create(l);case"checkbox":return new c(l);case"radio":return new h(l);case"file":return new e(l)}};function i(k){k=d.extend({file_button:"Choose file",file_label:"No file chosen",responsive_select:false,responsive_file:false},(k||{}));return this.each(function(){var l=j.get(this);if((this.nodeName=="SELECT"&&this.size>0)||this.custom_form_instance){return true}l.init(k);this.custom_form_instance=l})}var f=["init","checked","update","select","disabled"];var b={disabled:function(l){(l!=undefined)||(l="all");if(this.length==1){return this[0].custom_form_instance.disabled(l)}var k=l=="any"?false:true;this.each(function(){var m=this.custom_form_instance.disabled(l);switch(l){case"all":if(k&&!m){k=false;return false}break;case"any":if(m){k=true;return false}break;case"none":if(!m){k=false;return false}break}});return k}};function g(m){var k=this,l=Array.prototype.slice.call(arguments,1);if(m in b){return b[m].apply(this,l)}return k.each(function(){if(this.custom_form_instance){this.custom_form_instance[m].apply(this.custom_form_instance,l)}})}d.fn.custom_form=function(k){if(k=="init"||(typeof k!="string")||!k){return i.apply(this,arguments)}else{return g.apply(this,arguments)}}})(jQuery);