(function(b){var j={},d={file_button:"Choose file",file_label:"No file chosen",responsive_select:false,responsive_file:false};k.total_instances=0;k.build=function(l,f){var m,c;if(l.is("select")){m="select"}else{m="input_"+l.attr("type")}if(!(c=this.available_classes[m])){throw ("No class available to build element of type "+m)}return new c(l,f,(m+"_"+k.total_instances++))};k.available_classes={};k.register_class=function(f,c){this.available_classes[f]=c};function k(l,f,c){if(l){this.$$custom_form_identifier=c;this.set_parameters(l,f)}}var e=k.prototype;b.extend(e,{get_element:function(){return j[this.$$custom_form_identifier].element},get:function(c){return j[this.$$custom_form_identifier].children[c]},set:function(f,c){j[this.$$custom_form_identifier].children[c]=f;return f},get_id:function(){return this.$$custom_form_identifier},kill:function(){return this.$$custom_form_identifier},active_replacement_class:function(c){this.replacement[c?"addClass":"removeClass"]("checked_"+this.element_type)},init:function(){var c=this.get_element(),f=this.set_replacement();this.replace_elements(c,f);this.init_replacement(c,f);this.init_mouse_events(c,f)},set_replacement:function(){return this.set(this.get_replacement(),"replacement")},init_mouse_events:function(f,l){this.mouse_trigger().bind("mouseenter",this,this.hover_handler).bind("mouseleave",this,this.out_handler).bind("click",this,this.click_handler).bind("mouseup",this,this.mouse_up_handler).bind("mousedown",this,this.mouse_down_handler);var c=b("label[for="+this.element_id+"]");if(c.length!=0){c.bind("click",this,this.label_handler)}else{c=l.parent("label");if(c.length!=0){c.bind("click",this,this.label_handler)}}},label_handler:function(c){if(c.target!=this){return}c.preventDefault();c.data.get("replacement").triggerHandler("click")},hover_handler:function(c){c.data.hover(true)},out_handler:function(c){c.data.hover(false)},mouse_up_handler:function(c){c.data.mouse_in(false)},mouse_down_handler:function(c){c.data.mouse_in(true)},hover:function(c){this.get("replacement")[c?"addClass":"removeClass"]("hover_"+this.element_type)},mouse_in:function(c){this.get("replacement")[c?"addClass":"removeClass"]("active_"+this.element_type)},disabled:function(l,c,f){var c=(c)||(this.get_element()),f;switch(l){case true:case false:f=(f)||(this.get("replacement"));c.attr("disabled",l);f[l?"addClass":"removeClass"]("disabled_"+this.element_type);this.is_disabled=l;return l;case"none":return !c.is(":disabled");default:return c.is(":disabled")}}});function a(l,f,c){this.constructor.call(this,l,f,c)}a.IDENTIFIER="input_checkbox";var h=a.prototype=new k();h.constructor=k.prototype.constructor;b.extend(h,{element_type:"checkbox",uncheckeable:false,set_parameters:function(f,c){this.element_id=f.attr("id");this.element_name=f.attr("name")},get_replacement:function(){return b("<span class='"+this.element_type+"'></span>")},replace_elements:function(c,f){c.after(f);f.append(c)},init_replacement:function(c,f){if(c.is(":checked")){this.checked(true,c,f)}if(c.is(":disabled")){this.disabled(true,c,f)}},checked:function(m,f,l){var c=(f)||(this.get_element()),l=(l)||(this.get("replacement"));m=m==undefined?!c.is(":checked"):m;if(!this.uncheckeable||(this.uncheckeable&&m)){c.attr("checked",m);l[m?"addClass":"removeClass"]("checked_"+this.element_type);if(m){c.trigger("change")}}},mouse_trigger:function(){return this.get("replacement")},click_handler:function(c){c.data.checked();c.data.get_element().triggerHandler("click")}});k.register_class(a.IDENTIFIER,a);function g(){}b.extend(g.prototype,{init:function(l,f){var c=this,f=b.extend(d,(f||{}));return l.each(function(){if((this.nodeName=="SELECT"&&this.size>0)||this.$$custom_form_initialized){return true}c.new_element(this).init(f)})},execute:function i(l){var c=this,f=Array.prototype.slice.call(arguments,1);return c.each(function(){})},new_element:function(m,l){var f=b(m),c=k.build(f,l),n=c.get_id();this.register_instance(n,c,f);return c},register_instance:function(l,c,f){j[l]={element:f,instance:c,children:{}}},unregister_instance:function(c){var f=c.get_id();c=c.kill();delete j[f]}});g.get_custom_form_instance=function(){if(!this.instance){this.instance=new g()}return this.instance};b.fn.custom_form=function(f){var c=g.get_custom_form_instance();if((typeof f!="string")||!f){return c.init(this,f)}else{return c.execute(this,arguments)}}})(jQuery);